{% load staticfiles %}

<head>
    <link rel="stylesheet" type="text/css" href="{% static 'css/urban-ears.css' %}" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<script>
    /* record ids */
    var user_id = {{ user.id }};
    var curio_id = {{ curio.id }};
    var task_id = {{ task.id }};
    var total_num_tasks = {{ condition.configuration.task1.order|length }};
    var num_required_tasks;
    var experiment_id;
    var condition_id;
    var bonus_pay;
    {% if experiment.id %}
        bonus_pay = {{ condition.configuration.task1.bonus }};
        experiment_id = {{ experiment.id }};
        condition_id = {{ condition.id }};
        num_required_tasks = {{ condition.configuration.task1.batch_size }};
    {% endif %}
</script>
<!-- Modal Structure -->
<div id="video-modal" class="modal">
    <div class="modal-content">
        <h4>Instructions</h4>
        <h6 class="instruction"><span style="color: #00B1B9; font-size: 18px; font-weight: 600;">&#9312;</span> &nbsp; Familiarize yourself with the list of sound labels under the audio recording.</h6>
        <h6 class="instruction"><span style="color: #00B1B9; font-size: 18px; font-weight: 600;">&#9313;</span> &nbsp; Click the play button and listen to the recording.</h6>
        <h6 class="instruction"><span style="color: #00B1B9; font-size: 18px; font-weight: 600;">&#9314;</span> &nbsp; For each sound event that you hear click and drag on the visualization to create a new annotation.</h6>
        <h6 class="instruction"><span style="color: #00B1B9; font-size: 18px; font-weight: 600;">&#9315;</span> &nbsp; When creating a new annotation be as precise as possible. </h6>
        <h6 class="instruction"><span style="color: #00B1B9; font-size: 18px; font-weight: 600;">&#9316;</span> &nbsp; Select the appropriate label and indicate whether the sound is near or far.</h6>
        <br>
        <div class="videowrapper">
            <iframe id="tutorial-video" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>
        </div>
    </div>
    <div class="modal-footer">
        <a href="#!" class=" modal-action modal-close waves-effect waves-red btn-flat">Close</a>
    </div>
</div>
<div class="row">
    <div class="col s3">&nbsp; </div>
    <div class="col s6">
        <h4 class="center">Highlight &amp; Label Each Sound</h4>
    </div>
    <div class="col s3 right">
        <a class="waves-effect waves-light modal-trigger right btn" href="#video-modal">Instructions</a>
    </div>
</div>
<div class="annotation">
    <div class="labels"></div>
    <div class="audio_visual"></div>
    <div class="play_bar"></div>
    <div class="hidden_img"></div>
    <div class="creation_stage_container"></div>
    <div class="submit_container"></div>
</div>

<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/lib/wavesurfer.min.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/lib/wavesurfer.spectrogram.min.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/colormap/colormap.min.js'%}"></script>

<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/message.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/wavesurfer.regions.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/wavesurfer.drawer.extended.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/wavesurfer.labels.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/hidden_image.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/components.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/annotation_stages.js'%}"></script>
<script type="text/javascript" src="{% static 'tasks/js/labeling/audio/src/main.js'%}"></script>